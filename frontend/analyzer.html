<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Upload or capture waste images for instant AI-powered classification into biodegradable, recyclable, and hazardous categories.">
    <title>Waste Analyzer ‚Äî EcoSort AI</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/styles.css">

    <!-- Auth Scripts -->
    <script src="assets/js/guard.js"></script>
    <script src="assets/js/api.js"></script>
</head>

<body>
    <div class="noise-overlay"></div>
    <!-- ========== NAVIGATION ========== -->
    <nav class="navbar dark-nav" id="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo" id="nav-logo">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                    <circle cx="16" cy="16" r="14" stroke="currentColor" stroke-width="2.5" />
                    <path d="M10 18 L14 22 L22 12" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
                <span>EcoSort AI</span>
            </a>
            <div class="nav-links" id="nav-links">
                <a href="index.html" class="nav-link">Home</a>
                <a href="analyzer.html" class="nav-link active">Waste Analyzer</a>
                <a href="carbon.html" class="nav-link">Carbon Impact</a>
                <a href="dashboard.html" class="nav-link">Dashboard</a>
                <a href="insights.html" class="nav-link">Insights</a>
                <a href="reports.html" class="nav-link">Reports</a>
            </div>
            <div class="nav-actions">
                <a href="analyzer.html" class="btn btn-primary nav-cta">
                    Try Now <span class="btn-arrow">‚Üí</span>
                </a>
                <button class="mobile-menu-btn" id="mobile-menu-btn" aria-label="Toggle menu">
                    <span></span><span></span><span></span>
                </button>
            </div>
        </div>
    </nav>

    <!-- ========== WASTE ANALYZER PAGE ========== -->
    <main>
        <section class="analyzer-section">
            <div class="bg-blob blob-1"></div>
            <div class="bg-blob blob-2"></div>
            <div class="container">
                <div class="section-label">Waste Analyzer</div>
                <h1 class="section-title">Classify waste with<br>AI precision</h1>
                <p class="section-subtitle">Upload an image or use your camera to instantly classify waste and get
                    disposal recommendations.</p>

                <div class="analyzer-layout">
                    <!-- Upload Area -->
                    <div class="analyzer-upload-area">
                        <div class="upload-zone" id="upload-zone">
                            <div class="upload-zone-content" id="upload-zone-content">
                                <div class="upload-icon">
                                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="1.5">
                                        <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4" />
                                        <polyline points="17 8 12 3 7 8" />
                                        <line x1="12" y1="3" x2="12" y2="15" />
                                    </svg>
                                </div>
                                <h3>Drop your image here</h3>
                                <p>or click to browse files</p>
                                <div class="upload-formats">Supports JPG, PNG, WEBP</div>
                            </div>
                            <img id="preview-image" class="preview-image hidden" alt="Preview">
                            <input type="file" id="file-input" accept="image/*" hidden>

                            <!-- Scanner Overlay -->
                            <div class="scan-overlay" id="scan-overlay">
                                <div class="scan-line"></div>
                            </div>
                        </div>
                        <div class="upload-actions">
                            <button class="btn btn-primary" id="upload-btn"
                                onclick="document.getElementById('file-input').click()">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4" />
                                    <polyline points="17 8 12 3 7 8" />
                                    <line x1="12" y1="3" x2="12" y2="15" />
                                </svg>
                                Upload Image
                            </button>
                            <button class="btn btn-secondary" id="camera-btn" onclick="startCamera()">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path
                                        d="M23 19a2 2 0 01-2 2H3a2 2 0 01-2-2V8a2 2 0 012-2h4l2-3h6l2 3h4a2 2 0 012 2z" />
                                    <circle cx="12" cy="13" r="4" />
                                </svg>
                                Use Camera
                            </button>
                            <button class="btn btn-outline" id="analyze-btn" onclick="analyzeWaste()" disabled>
                                Analyze ‚Üí
                            </button>
                        </div>
                        <!-- Camera View (hidden by default) -->
                        <div id="camera-container" class="camera-container hidden">
                            <video id="camera-video" autoplay playsinline></video>
                            <button class="btn btn-primary camera-capture-btn" id="capture-btn"
                                onclick="capturePhoto()">
                                üì∏ Capture
                            </button>
                            <button class="btn btn-ghost camera-close-btn" onclick="stopCamera()">‚úï Close</button>
                            <canvas id="camera-canvas" hidden></canvas>
                        </div>
                    </div>

                    <!-- Results Area -->
                    <div class="analyzer-results" id="results-area">
                        <div class="results-placeholder" id="results-placeholder">
                            <div class="results-placeholder-icon">
                                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="1">
                                    <circle cx="12" cy="12" r="10" />
                                    <path d="M12 6v6l4 2" />
                                </svg>
                            </div>
                            <h3>Awaiting Analysis</h3>
                            <p>Upload or capture an image to get started. Our AI will classify the waste and provide
                                detailed results.</p>
                        </div>

                        <!-- AI Processing State -->
                        <div class="ai-processing hidden" id="ai-processing">
                            <div class="ai-pulse"></div>
                            <h3 style="color: var(--primary); font-weight: 700;">Analyzing waste composition...</h3>
                            <p style="color: var(--gray-500);">Scanning material properties and identifying category.
                            </p>
                        </div>

                        <!-- Actual Results (shown after analysis) -->
                        <div class="results-content hidden" id="results-content">
                            <!-- Classification Result -->
                            <div class="result-card huge-result reveal-anim">
                                <div class="huge-result-icon" id="result-cat-icon">üåø</div>
                                <div class="huge-result-title" id="result-category">BIODEGRADABLE</div>
                                <div style="font-size:11px; color: var(--gray-500); margin-top: 4px; font-style: italic;">This system classifies type of waste ‚Äî ensure the object is already waste before scanning.</div>

                                <div class="confidence-bar-container">
                                    <div class="confidence-bar-fill" id="confidence-fill" style="width: 0%"></div>
                                </div>
                                <div
                                    style="font-weight: 700; color: var(--gray-500); text-align: right; font-size: 14px;">
                                    <span id="confidence-value">0%</span> Confidence
                                </div>
                            </div>

                            <!-- Carbon Impact -->
                            <div class="result-card result-carbon reveal-anim" style="animation-delay: 0.1s;">
                                <h4>üåç Carbon Impact</h4>
                                <div class="carbon-stats">
                                    <div class="carbon-stat">
                                        <span class="carbon-val" id="carbon-saved">0.45</span>
                                        <span class="carbon-unit">kg CO‚ÇÇ</span>
                                        <span class="carbon-label">Saved by proper disposal</span>
                                    </div>
                                    <div class="carbon-stat">
                                        <span class="carbon-val negative" id="carbon-wasted">1.2</span>
                                        <span class="carbon-unit">kg CO‚ÇÇ</span>
                                        <span class="carbon-label">If sent to landfill</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Disposal Instructions -->
                            <div class="result-card result-disposal reveal-anim" style="animation-delay: 0.2s;">
                                <h4>üìã Disposal Instructions</h4>
                                <ul class="disposal-list" id="disposal-list">
                                    <li>Compost in a home composting bin</li>
                                    <li>Can be used for vermicomposting</li>
                                    <li>Keep separate from recyclable waste</li>
                                </ul>
                            </div>

                            <!-- Reuse Suggestions -->
                            <div class="result-card result-reuse reveal-anim" style="animation-delay: 0.3s;">
                                <h4>‚ôªÔ∏è Reuse & Recycle Suggestions</h4>
                                <div class="reuse-tags" id="reuse-tags">
                                    <span class="reuse-tag">Composting</span>
                                    <span class="reuse-tag">Biogas production</span>
                                    <span class="reuse-tag">Natural fertilizer</span>
                                </div>
                            </div>

                            <button class="btn btn-primary btn-lg" onclick="resetAnalyzer()"
                                style="width: 100%; margin-top: 12px;">
                                Analyze Another ‚Üí
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- ========== FOOTER ========== -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-col footer-brand">
                <a href="index.html" class="footer-logo">
                    <svg width="28" height="28" viewBox="0 0 32 32" fill="none">
                        <circle cx="16" cy="16" r="14" stroke="currentColor" stroke-width="2.5" />
                        <path d="M10 18 L14 22 L22 12" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                    <span>EcoSort AI</span>
                </a>
                <p class="footer-tagline">AI-powered waste segregation<br>& carbon footprint analysis</p>
            </div>
            <div class="footer-col">
                <h4>Features</h4>
                <a href="analyzer.html">Waste Analyzer</a>
                <a href="carbon.html">Carbon Impact</a>
                <a href="dashboard.html">Dashboard</a>
                <a href="insights.html">Insights</a>
            </div>
            <div class="footer-col">
                <h4>Technology</h4>
                <a href="#">MobileNetV2</a>
                <a href="#">TensorFlow</a>
                <a href="#">Computer Vision</a>
                <a href="#">Flask API</a>
            </div>
            <div class="footer-col">
                <h4>Resources</h4>
                <a href="reports.html">Reports</a>
                <a href="#">Documentation</a>
                <a href="#">API Reference</a>
                <a href="#">Contact</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>¬© 2026 EcoSort AI ‚Äî NMIMS University. Built for sustainability.</p>
        </div>
    </footer>

    <script src="assets/js/app.js"></script>
</body>

</html>